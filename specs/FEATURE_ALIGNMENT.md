# SeekDB Node SDK vs Python SDK åŠŸèƒ½å¯¹é½æ¸…å•

æœ¬æ–‡æ¡£ç”¨äºè·Ÿè¸ª Node SDK ä¸ Python SDK ä¹‹é—´çš„åŠŸèƒ½å¯¹é½æƒ…å†µã€‚

## ğŸ“Š åŠŸèƒ½å¯¹é½æ–¹æ³•è®º

### 1. ä¿¡æ¯æºä¼˜å…ˆçº§ï¼ˆæŒ‰é¡ºåºï¼‰

1. **API.md** - å®˜æ–¹ API å‚è€ƒæ–‡æ¡£ï¼ˆæœ€æƒå¨ï¼‰
2. **README.md Table of Contents** - åŠŸèƒ½æ¦‚è§ˆå’Œç»“æ„
3. **æµ‹è¯•æ–‡ä»¶åˆ—è¡¨** - å®é™…åŠŸèƒ½çš„æµ‹è¯•è¦†ç›–
4. **æºä»£ç ç»“æ„** - å®é™…å®ç°çš„åŠŸèƒ½
5. **ç¤ºä¾‹ä»£ç ** - å®é™…ä½¿ç”¨åœºæ™¯

### 2. ç³»ç»Ÿæ€§æ‰«ææ­¥éª¤

```bash
# Step 1: æŸ¥çœ‹ API æ–‡æ¡£ç»“æ„
cat pyseekdb/API.md | grep "^##"

# Step 2: æŸ¥çœ‹ README ç›®å½•
cat pyseekdb/README.md | grep "^##"

# Step 3: åˆ—å‡ºæ‰€æœ‰æµ‹è¯•æ–‡ä»¶
ls pyseekdb/tests/test_*.py

# Step 4: æŸ¥çœ‹æºä»£ç æ¨¡å—
ls pyseekdb/src/pyseekdb/client/*.py

# Step 5: æŸ¥çœ‹æ‰€æœ‰ç¤ºä¾‹
ls pyseekdb/examples/*.py
```

### 3. åŠŸèƒ½åˆ†ç±»æ¡†æ¶

æŒ‰ç…§ API.md çš„ç»“æ„åˆ†ç±»ï¼š

- **Level 1: AdminClientï¼ˆæ•°æ®åº“ç®¡ç†ï¼‰**
- **Level 2: Clientï¼ˆCollection ç®¡ç†ï¼‰**
- **Level 3: Collection å¯¹è±¡ï¼ˆæ•°æ®æ“ä½œï¼‰**
- **Level 4: è¾…åŠ©åŠŸèƒ½ï¼ˆEmbeddingFunctionã€Filters ç­‰ï¼‰**

---

## ğŸ¯ åŠŸèƒ½å¯¹é½æ¸…å•

### Level 1: AdminClientï¼ˆæ•°æ®åº“ç®¡ç†ï¼‰

| åŠŸèƒ½                                       | Python SDK | Node SDK | çŠ¶æ€     | ä¼˜å…ˆçº§ |
| ------------------------------------------ | ---------- | -------- | -------- | ------ |
| `AdminClient()` å·¥å‚å‡½æ•°                   | âœ…         | âŒ       | **ç¼ºå¤±** | P0     |
| `create_database(name, tenant?)`           | âœ…         | âŒ       | **ç¼ºå¤±** | P0     |
| `get_database(name, tenant?)`              | âœ…         | âŒ       | **ç¼ºå¤±** | P0     |
| `delete_database(name, tenant?)`           | âœ…         | âŒ       | **ç¼ºå¤±** | P0     |
| `list_databases(limit?, offset?, tenant?)` | âœ…         | âŒ       | **ç¼ºå¤±** | P0     |
| `Database` å¯¹è±¡                            | âœ…         | âŒ       | **ç¼ºå¤±** | P1     |

**æµ‹è¯•æ–‡ä»¶**: `test_admin_database_management.py` (Python)

---

### Level 2: Clientï¼ˆCollection ç®¡ç†ï¼‰

| åŠŸèƒ½                               | Python SDK | Node SDK            | çŠ¶æ€     | å¤‡æ³¨           |
| ---------------------------------- | ---------- | ------------------- | -------- | -------------- |
| `Client()` å·¥å‚å‡½æ•°                | âœ…         | âœ… (`SeekDBClient`) | âœ…       | å·²å®ç°         |
| **è¿æ¥æ¨¡å¼**                       |
| - Embedded mode (`path`)           | âœ…         | âŒ                  | **ç¼ºå¤±** | P2ï¼ˆåç»­å®ç°ï¼‰ |
| - Remote server mode (`host/port`) | âœ…         | âœ…                  | âœ…       | å·²å®ç°         |
| - OceanBase mode (`tenant`)        | âœ…         | âœ…                  | âœ…       | å·²å®ç°         |
| **Collection ç®¡ç†æ–¹æ³•**            |
| `create_collection()`              | âœ…         | âœ…                  | âœ…       | å·²å®ç°         |
| `get_collection()`                 | âœ…         | âœ…                  | âœ…       | å·²å®ç°         |
| `delete_collection()`              | âœ…         | âœ…                  | âœ…       | å·²å®ç°         |
| `list_collections()`               | âœ…         | âœ…                  | âœ…       | å·²å®ç°         |
| `has_collection()`                 | âœ…         | âœ…                  | âœ…       | å·²å®ç°         |
| `get_or_create_collection()`       | âœ…         | âœ…                  | âœ…       | å·²å®ç°         |
| `count_collection()`               | âœ…         | âœ…                  | âœ…       | å·²å®ç°         |
| **è¿æ¥ç®¡ç†**                       |
| `execute(sql)`                     | âœ…         | âœ…                  | âœ…       | å·²å®ç°         |
| `close()`                          | âœ…         | âœ…                  | âœ…       | å·²å®ç°         |
| `isConnected()`                    | âœ…         | âœ…                  | âœ…       | å·²å®ç°         |

**æµ‹è¯•æ–‡ä»¶**: `test_client_creation.py` (Python)

---

### Level 3: Collection å¯¹è±¡ï¼ˆæ•°æ®æ“ä½œï¼‰

#### 3.1 DML æ“ä½œ

| åŠŸèƒ½                     | Python SDK | Node SDK | çŠ¶æ€ | å¤‡æ³¨   |
| ------------------------ | ---------- | -------- | ---- | ------ |
| `add()`                  | âœ…         | âœ…       | âœ…   | å·²å®ç° |
| - æ”¯æŒå•ä¸ª/æ‰¹é‡æ•°æ®      | âœ…         | âœ…       | âœ…   |        |
| - embeddings å‚æ•°        | âœ…         | âœ…       | âœ…   |        |
| - documents å‚æ•°         | âœ…         | âœ…       | âœ…   |        |
| - metadatas å‚æ•°         | âœ…         | âœ…       | âœ…   |        |
| - è‡ªåŠ¨ç”Ÿæˆ embeddings    | âœ…         | âœ…       | âœ…   |        |
| `update()`               | âœ…         | âœ…       | âœ…   | å·²å®ç° |
| - ä»…æ›´æ–° metadata        | âœ…         | âœ…       | âœ…   |        |
| - æ›´æ–° embeddings        | âœ…         | âœ…       | âœ…   |        |
| - æ›´æ–° documents         | âœ…         | âœ…       | âœ…   |        |
| `upsert()`               | âœ…         | âœ…       | âœ…   | å·²å®ç° |
| `delete()`               | âœ…         | âœ…       | âœ…   | å·²å®ç° |
| - æŒ‰ IDs åˆ é™¤            | âœ…         | âœ…       | âœ…   |        |
| - æŒ‰ where åˆ é™¤          | âœ…         | âœ…       | âœ…   |        |
| - æŒ‰ where_document åˆ é™¤ | âœ…         | âœ…       | âœ…   |        |

**æµ‹è¯•æ–‡ä»¶**: `test_collection_dml.py` (Python)

#### 3.2 DQL æ“ä½œ

| åŠŸèƒ½                             | Python SDK | Node SDK | çŠ¶æ€ | å¤‡æ³¨   |
| -------------------------------- | ---------- | -------- | ---- | ------ |
| `query()` - å‘é‡ç›¸ä¼¼æœç´¢         | âœ…         | âœ…       | âœ…   | å·²å®ç° |
| - query_embeddings å‚æ•°          | âœ…         | âœ…       | âœ…   |        |
| - query_texts å‚æ•°               | âœ…         | âœ…       | âœ…   |        |
| - n_results å‚æ•°                 | âœ…         | âœ…       | âœ…   |        |
| - where è¿‡æ»¤                     | âœ…         | âœ…       | âœ…   |        |
| - where_document è¿‡æ»¤            | âœ…         | âœ…       | âœ…   |        |
| - include å‚æ•°                   | âœ…         | âœ…       | âœ…   |        |
| - æ‰¹é‡æŸ¥è¯¢ï¼ˆå¤šä¸ª query vectorsï¼‰ | âœ…         | âœ…       | âœ…   |        |
| `get()` - æŒ‰ ID/è¿‡æ»¤è·å–         | âœ…         | âœ…       | âœ…   | å·²å®ç° |
| - ids å‚æ•°                       | âœ…         | âœ…       | âœ…   |        |
| - where è¿‡æ»¤                     | âœ…         | âœ…       | âœ…   |        |
| - where_document è¿‡æ»¤            | âœ…         | âœ…       | âœ…   |        |
| - limit/offset åˆ†é¡µ              | âœ…         | âœ…       | âœ…   |        |
| - include å‚æ•°                   | âœ…         | âœ…       | âœ…   |        |
| `hybrid_search()` - æ··åˆæœç´¢     | âœ…         | âœ…       | âœ…   | å·²å®ç° |
| - query å‚æ•°ï¼ˆå…¨æ–‡æœç´¢ï¼‰         | âœ…         | âœ…       | âœ…   |        |
| - knn å‚æ•°ï¼ˆå‘é‡æœç´¢ï¼‰           | âœ…         | âœ…       | âœ…   |        |
| - rank å‚æ•°ï¼ˆRRFï¼‰               | âœ…         | âœ…       | âœ…   |        |
| - n_results å‚æ•°                 | âœ…         | âœ…       | âœ…   |        |

**æµ‹è¯•æ–‡ä»¶**:

- `test_collection_query.py` (Python)
- `test_collection_get.py` (Python)
- `test_collection_hybrid_search.py` (Python)

#### 3.3 Collection ä¿¡æ¯æ–¹æ³•

| åŠŸèƒ½           | Python SDK | Node SDK | çŠ¶æ€ | å¤‡æ³¨   |
| -------------- | ---------- | -------- | ---- | ------ |
| `count()`      | âœ…         | âœ…       | âœ…   | å·²å®ç° |
| `describe()`   | âœ…         | âœ…       | âœ…   | å·²å®ç° |
| `peek(limit?)` | âœ…         | âœ…       | âœ…   | å·²å®ç° |

#### 3.4 Collection å±æ€§

| å±æ€§                 | Python SDK | Node SDK | çŠ¶æ€ | å¤‡æ³¨   |
| -------------------- | ---------- | -------- | ---- | ------ |
| `name`               | âœ…         | âœ…       | âœ…   | å·²å®ç° |
| `id`                 | âœ…         | âœ…       | âœ…   | å·²å®ç° |
| `dimension`          | âœ…         | âœ…       | âœ…   | å·²å®ç° |
| `distance`           | âœ…         | âœ…       | âœ…   | å·²å®ç° |
| `embedding_function` | âœ…         | âœ…       | âœ…   | å·²å®ç° |
| `metadata`           | âœ…         | âœ…       | âœ…   | å·²å®ç° |
| `client`             | âœ…         | âœ…       | âœ…   | å·²å®ç° |

---

### Level 4: è¾…åŠ©åŠŸèƒ½

#### 4.1 è¿‡æ»¤å™¨ï¼ˆFiltersï¼‰

| åŠŸèƒ½                                 | Python SDK | Node SDK | çŠ¶æ€ | å¤‡æ³¨   |
| ------------------------------------ | ---------- | -------- | ---- | ------ |
| **Metadata è¿‡æ»¤å™¨ (where)**          |
| `$eq` (ç›¸ç­‰)                         | âœ…         | âœ…       | âœ…   |        |
| ç®€åŒ–å½¢å¼ `{key: value}`              | âœ…         | âœ…       | âœ…   |        |
| `$ne` (ä¸ç­‰äº)                       | âœ…         | âœ…       | âœ…   |        |
| `$gt` (å¤§äº)                         | âœ…         | âœ…       | âœ…   |        |
| `$gte` (å¤§äºç­‰äº)                    | âœ…         | âœ…       | âœ…   |        |
| `$lt` (å°äº)                         | âœ…         | âœ…       | âœ…   |        |
| `$lte` (å°äºç­‰äº)                    | âœ…         | âœ…       | âœ…   |        |
| `$in` (åœ¨æ•°ç»„ä¸­)                     | âœ…         | âœ…       | âœ…   |        |
| `$nin` (ä¸åœ¨æ•°ç»„ä¸­)                  | âœ…         | âœ…       | âœ…   |        |
| `$or` (é€»è¾‘æˆ–)                       | âœ…         | âœ…       | âœ…   |        |
| `$and` (é€»è¾‘ä¸)                      | âœ…         | âœ…       | âœ…   |        |
| **Document è¿‡æ»¤å™¨ (where_document)** |
| `$contains` (åŒ…å«)                   | âœ…         | âœ…       | âœ…   |        |
| `$regex` (æ­£åˆ™)                      | âœ…         | âœ…       | âœ…   | å·²å®ç° |
| `$or` (é€»è¾‘æˆ–)                       | âœ…         | âœ…       | âœ…   |        |
| `$and` (é€»è¾‘ä¸)                      | âœ…         | âœ…       | âœ…   |        |

#### 4.2 Embedding Functions

| åŠŸèƒ½                            | Python SDK | Node SDK | çŠ¶æ€     | å¤‡æ³¨   |
| ------------------------------- | ---------- | -------- | -------- | ------ |
| `DefaultEmbeddingFunction`      | âœ…         | âŒ       | **ç¼ºå¤±** | P1     |
| è‡ªå®šä¹‰ `EmbeddingFunction` åè®® | âœ…         | âœ…       | âœ…       | å·²æ”¯æŒ |
| `dimension` å±æ€§                | âœ…         | âœ…       | âœ…       | å·²æ”¯æŒ |
| `__call__()` æ–¹æ³•               | âœ…         | âœ…       | âœ…       | å·²æ”¯æŒ |

**æµ‹è¯•æ–‡ä»¶**:

- `test_collection_embedding_function.py` (Python)
- `test_default_embedding_function.py` (Python)

#### 4.3 é…ç½®å¯¹è±¡

| åŠŸèƒ½                | Python SDK | Node SDK | çŠ¶æ€     | å¤‡æ³¨   |
| ------------------- | ---------- | -------- | -------- | ------ |
| `HNSWConfiguration` | âœ…         | âœ…       | âœ…       | å·²å®ç° |
| - dimension å‚æ•°    | âœ…         | âœ…       | âœ…       |        |
| - distance å‚æ•°     | âœ…         | âœ…       | âœ…       |        |
| `Database` å¯¹è±¡     | âœ…         | âŒ       | **ç¼ºå¤±** | P1     |

---

## ğŸ“ˆ ä¼˜å…ˆçº§å®šä¹‰

- **P0**: æ ¸å¿ƒåŠŸèƒ½ç¼ºå¤±ï¼Œä¸¥é‡å½±å“åŠŸèƒ½å®Œæ•´æ€§
- **P1**: é‡è¦åŠŸèƒ½ç¼ºå¤±ï¼Œå½±å“ç”¨æˆ·ä½“éªŒ
- **P2**: è¾…åŠ©åŠŸèƒ½ç¼ºå¤±ï¼Œå¯åç»­è¡¥å……
- **P3**: å¯é€‰åŠŸèƒ½ï¼Œä½ä¼˜å…ˆçº§

---

## ğŸš€ å®ç°è®¡åˆ’

### Phase 1: P0 åŠŸèƒ½ï¼ˆAdminClientï¼‰

1. âœ… åˆ›å»º `SeekDBAdminClient` ç±»
2. âœ… å®ç° `create_database()`
3. âœ… å®ç° `get_database()`
4. âœ… å®ç° `delete_database()`
5. âœ… å®ç° `list_databases()`
6. âœ… åˆ›å»º `Database` ç±»å‹å®šä¹‰
7. âœ… ç¼–å†™æµ‹è¯•ç”¨ä¾‹

### Phase 2: P1 åŠŸèƒ½

1. â¬œ å®ç° `DefaultEmbeddingFunction`
2. â¬œ å®ç° `Database` å¯¹è±¡å®Œæ•´åŠŸèƒ½

### Phase 3: P2 åŠŸèƒ½

1. âœ… å®ç° `collection.describe()`
2. âœ… å®ç° `collection.peek()`
3. âœ… å®ç° `$regex` è¿‡æ»¤å™¨

---

## ğŸ“ åŠŸèƒ½éªŒè¯æ¸…å•

æ¯ä¸ªåŠŸèƒ½å®ç°åï¼Œéœ€è¦éªŒè¯ï¼š

- [ ] TypeScript ç±»å‹å®šä¹‰å®Œæ•´
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–
- [ ] ç¤ºä¾‹ä»£ç 
- [ ] API æ–‡æ¡£æ›´æ–°
- [ ] ä¸ Python SDK è¡Œä¸ºä¸€è‡´

---

## ğŸ”„ æŒç»­å¯¹é½æµç¨‹

1. **æ¯å‘¨æ£€æŸ¥**: æŸ¥çœ‹ pyseekdb çš„ CHANGELOG æˆ– git commits
2. **æ–°åŠŸèƒ½æ£€æµ‹**: ç›‘æ§ pyseekdb æ–°å¢çš„ API
3. **æµ‹è¯•åŒæ­¥**: ç¡®ä¿æµ‹è¯•ç”¨ä¾‹è¦†ç›–ç‡ä¸ Python SDK ä¸€è‡´
4. **æ–‡æ¡£åŒæ­¥**: README å’Œ API æ–‡æ¡£ä¿æŒåŒæ­¥

---

## ğŸ“š å‚è€ƒèµ„æº

- Python SDK API æ–‡æ¡£: `pyseekdb/API.md`
- Python SDK README: `pyseekdb/README.md`
- Python SDK æµ‹è¯•: `pyseekdb/tests/`
- Python SDK ç¤ºä¾‹: `pyseekdb/examples/`
